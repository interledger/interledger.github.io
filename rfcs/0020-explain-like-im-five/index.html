<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The protocol for connecting blockchains and other ledgers">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Custom styles -->
    <link href="/assets/css/custom.css" rel="stylesheet">

    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,600,700,900|Droid+Sans+Mono|Titillium+Web:400,300,600,900' rel='stylesheet' type='text/css'>

    <link href="/assets/favicon.png" rel="icon" type="image/x-icon">

    <!--  highlight js -->
    <link rel="stylesheet" href="/assets/css/monokai-sublime.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->




</head>

<body class="sidebar-primary ">

  <!-- <div class="container"> -->
        <nav class="navbar fixed-top navbar-expand-lg navbar-dark nav-innerpage">
            <div class="navbar-leftbg"><a href="/index.html" class="navbar-brand"><img src="/assets/img/ilp_logo.png" class="logo"  height="44" alt="Interledger" /></a></div>
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarHolder" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">

              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarHolder">
              <ul class="nav navbar-nav">
                    <li class="nav-item" ><a class="nav-link" href="/overview.html">Docs</a></li>
                    <li class="nav-item" ><a class="nav-link" href="/libraries.html">Tools</a></li>
                    <li class="nav-item" ><a class="nav-link" href="/community.html">Community</a></li>
                    <li class="nav-item"><a class="nav-link" target="_blank" href="https://github.com/interledger">Edit on Github</a></li>
                    <li class="nav-item"><a class="nav-link cornerlink" href="/getting-started.html">Get Started</a></li>
              </ul><!-- /.navbar-nav -->
              <div class="cornerbox"></div>
            </div>
            <div class="menu-overlay"></div>
        </nav>
    <!-- </div> -->

    <div class="container-fluid" role="document" id="main_content_wrapper">
        <div class="row">

        <aside class="sidebar col-md-4 col-lg-3 p-0 order-md-1" role="complementary">

    <div id="sidenav" class="tree_nav">
      <ul class=" sidebar_pagelist">
        <li class="nav-label">Quick Start</li>
        <li><a href="/overview.html">Overview</a></li>
        <li><a href="/getting-started.html">Getting Started</a></li>
      </ul>
      <ul class=" sidebar_pagelist">
        <li class="nav-label">Community Resources</li>
        <li><a href="https://medium.com/interledger-blog">Blog &amp; Tutorials</a></li>
        <li><a href="/libraries.html">Libraries &amp; Tools</a></li>
        <li><a href="/summit-2019.html">ILP Summit 2019 Videos</a></li>
      </ul>

      <div class="sidebar-nav-header">Specs</div>
      <ul class=" sidebar_pagelist sidebar_indent">
        <!--    <li><a href="/rfcs/0001-interledger-architecture/">Interledger Architecture</a></li> -->
        <li><a href="/rfcs/0027-interledger-protocol-4/">Interledger Protocol 4 (ILPv4)</a></li>
        <li><a href="/rfcs/0015-ilp-addresses/">Interledger Addresses</a></li>
        <li><a href="/rfcs/0029-stream/">STREAM Protocol</a></li>
        <li><a href="/rfcs/0009-simple-payment-setup-protocol/">Simple Payment Setup Protocol (SPSP)</a></li>
        <li><a href="/rfcs/0026-payment-pointers/">Payment Pointers</a></li>
        <li><a href="/rfcs/0028-web-monetization/">Web Monetization</a></li>
        <li><a href="/rfcs/0030-notes-on-oer-encoding/">Notes on OER encoding</a></li>
        <li><a href="/rfcs/0031-dynamic-configuration-protocol/">Dynamic Configuration Protocol (ILDCP)</a></li>
        <li><a href="/rfcs/0032-peering-clearing-settlement/">Peering, Clearing and Settlement</a></li>
        <li><a href="/rfcs/0035-ilp-over-http/">ILP over HTTP</a></li>
        <li><a href="/rfcs/0036-spsp-pull-payments/">SPSP Pull Payments</a></li>
        <li><a target="_blank" href="https://w3c.github.io/webpayments/proposals/interledger-payment-method.html">W3C Web Payments</a></li>

      </ul>
    </div>        </aside>

          <!-- main column -->
        <main class="main col-md-8 col-lg-6 order-md-3  " role="main" id="main_content_body">
  <article class="pt-3 p-md-3">
    <div class="content doc-content">
        <p><strong>This document describes concepts from older versions of ILP and is therefor mis-leading. It has been deprecated to avoid confusion.</strong></p>
<h2 id="interledger-protocol-explain-like-im-five-eli5">Interledger Protocol: Explain Like I'm Five (ELI5)</h2>
<h3 id="introduction">Introduction</h3>
<p>A <em>protocol</em> is set of rules about how to do something.</p>
<p>The Internet can be seen as a set of rules about how to send messages. For example, when a person follows the rules of the Internet to send an email, it can be said that the person is <em>using the Internet Protocol to transmit information.</em></p>
<p>An <em>asset</em> is a word meaning anything valuable. For example, money is an asset.</p>
<p>Interledger (aka <em>Interledger Protocol</em>, or <em>ILP</em>) is a set of rules about how to send assets. For example, when a person follows the rules of the Interledger to send money, it can be said that the person is <em>using the Interledger Protocol to transmit an asset.</em></p>
<p>Interledger, like the Internet, isn't only used by people. It can be used by a computer, a group of computers, or a group of people and/or computers acting together as a company or corporation. The word <em>party</em> is sometimes used to describe a person, thing, or any group of people or things that can <em>participate in an action.</em></p>
<p>The Interledger Protocol has four basic building blocks that participate together in the action of transmitting an asset from one party to another.</p>
<p>These building blocks - described in the next section - were created to fit together in enough ways to transmit an asset of any kind, through any system or systems, anywhere in the world, and handle any necessary exchanges of asset type along the way.</p>
<p>What the Internet did for information, Interledger aims to do for value.</p>
<p><em>Key point: There are many kinds of assets, even within an asset group such as "money".  For example, US Dollars, Japanese Yen and Mexican Peso's are all different kinds of money.  Gold and Silver are different kinds of "precious metals" - another asset group. There are also many systems to keep track of who owns what asset, and to handle exchanges of one kind of asset for another.  The problem is, the systems don't always connect to each other very well, if they connect at all.  It can be difficult, costly and time-consuming to send value around the world at the present time.  ILP makes it easy, cost-effective and fast.</em></p>
<h3 id="ilp-basics-building-blocks">ILP Basics: Building Blocks</h3>
<ul>
<li>Sender</li>
<li>Receiver</li>
<li>Connector</li>
<li>Ledger</li>
</ul>
<p><strong>Senders</strong> want to send an asset to a particular receiver. Senders know the amount being sent and to whom. Sending something valuable can cost money, and in ILP this cost may be subtracted from the asset amount as it is transmitted.  So, senders are aware that what arrives could be less than what is sent, and are prepared for how much that could be.</p>
<p><strong>Receivers</strong> are expecting or allowing an asset to arrive from a particular sender. Receivers may know how much to expect, or to expect something to arrive and from whom, but not how much.</p>
<p><strong>Connectors</strong> want to link senders with receivers to make ILP payments possible. Connectors also link up with other connectors. This is done to connect as many senders with receivers as possible, through chains of connectors that are built for each payment.</p>
<p><strong>Ledgers</strong> are like books that get written in to record how much of a particular asset different parties have. For example, a ledger for a group of people and their money could record how many dollars each person has. In the real world, an example of a ledger might be a banks list of customers bank accounts and the amount each customer has. A ledger also has something like a "ledger manager" that senders, receivers and connectors trust to write changes in the ledger book correctly. If a sender and receiver are on the same ledger, the sender can make an ILP payment to the receiver without a connector's help.</p>
<p><em>Note: In a real bank, it's possible for an account to hold multiple types of assets. For example, one bank account could hold amounts in US dollars, Euro's, and Japanese Yen. To keep things simple in the Interledger Protocol, each "ledger" is limited to recording how much different parties have <strong>of exactly the same kind of asset</strong>. If another asset is used by a sender or receiver, another ledger is kept for that asset. From ILP's point of view, a particular party may have several ledgers associated with them.</em></p>
<h3 id="ilp-security-trusted-trustless">ILP Security: Trusted &amp; Trustless</h3>
<p>When you have an asset stored somewhere, like money in a bank, what do you really have?  The thing you really have is <em>trust</em> that when you go to that place and ask for your asset back, that it will be given to you.  In the case of a bank, you show them your bankcard and ask for your money.  Usually that process is automated: you put your card into a bank ATM, tell it how much you want, and out it comes.</p>
<p>If you didn't trust a particular bank to give you your money back when you ask for it, you probably wouldn't give it to them in the first place.</p>
<p>This is important because this idea of trust is at the core of how the pieces of ILP fit together, and - interestingly - how this arrangement enables <em>trustless payments</em>.  Let's see how it works:</p>
<p><strong>Payment Quotes: Where To &amp; How Much?</strong></p>
<p>As much as possible about an ILP payment is worked out in advance to be sure each party is happy with what's going to happen, and that the funds will remain safe while in transition.  While it's possible for a sender to make a payment to a receiver on the same ledger, examining that scenario won't involve much of what makes ILP interesting.  So let's take the example that the sender and receiver are on different ledgers.</p>
<p>Before the payment is made, the sender needs to be happy with how much the payment will cost. The process, called <em>quoting</em>, goes like this:</p>
<p>1) First, a sender asks a connector: "Do you know this receiver?"</p>
<p>2) If the connector knows the receiver, great.  If not, the connector talks to its "peers" (its "connector friends") to see if any know the receiver, or know another connector that might know the receiver... and so on.  Through this process, a chain of connectors linking the sender to the receiver is discovered.  This chain may involve just one connector, or it may involve many.</p>
<p>3) Connectors can each charge a little bit for their part in handling the payment.  After the chain is built, the connector closest the sender explains how much the receiver will get if the payment goes down that chain.  That is, the connector gives the sender a <em>quote</em>. If it's much less than what the sender wants to send, the sender will probably choose a different connector.  So connectors try make the cost to the sender as little as possible, while still earning something.</p>
<p>4) The sender decides whether or not to use that connector, based on how much it will cost.  If it's a "no", the sender can start over asking a different connector, or asking the same one again (who may figure out a way to make it cheaper this time).  When the sender is happy with the cost, the payment can go ahead.</p>
<p>For each payment, a chain with links of trust is formed between the sender, connector - or connectors - and the receiver.  Each link in the chain trusts the one before it not to waste its time, but no link needs to trust any other links in the chain or even know about them.  What's great about this, is it means the sender and the receiver don't need to trust each other, or even know who each other is.</p>
<p><em>Key point: If a sender makes a payment with ILP, it is assured that either the receiver will receive the amount the sender agreed to, or the sender will get their original amount returned.  The sender doesn't need to trust anyone in-between, and the receiver can be sure the sender agreed to the transfer (and so won't later try get the asset back).  This is what makes ILP payments "trustless".</em></p>
<p><strong>Payment Security</strong></p>
<p>Even with all this worked out, there are still a couple of things that could go wrong.  For example, what happens if a connector lies about how much the payment will cost?  It's unlikely, but if it did happen, ILP guarantees the sender will get their original asset back in their account.  Then of course, the sender could try sending again a different way.  In a small number of cases, this situation may result in a connector losing money.  That's why connectors charge a little bit for making payments, and it's also why they want to choose carefully to link up with ledgers they can trust.  Also, if a connector did lie, all connectors will know about it and "unfriend" them to make it difficult for that connector to be involved in an ILP payment again.</p>
<p>Much of what happens throughout an ILP payment is actually only there to protect the asset from exactly this kind of thing during its transition from one ledger to another.  One of the main techniques used is called a <em>cryptographic condition</em>.  This is a complex topic, so we're going to use an analogy to represent it.  Instead of a "cryptographic condition", let's call it a <em>special box.</em></p>
<p><em>The Special Box</em></p>
<p>Before a payment can happen, the sender and the receiver have a private talk, and decide that its ok if the sender sends an asset to the receiver using ILP at some future time.  When the payment happens, it may go through many connectors that the sender doesn't know or trust, and the sender wants to be sure the asset arrives safely with the receiver and nobody else.  To help with this, the sender and receiver come up with a secret password, write it down a few times on some pieces of paper, and put each one in a special box.  These special boxes are impossible to open, or to see inside.  But, there is a slit in the top anyone can insert a piece of paper with a password written on it.  If the password is the same as the original, the box opens.  If not, the box stays closed.  The sender passes a few of these special boxes to their ledger manager, who takes one of the boxes and hands the rest along.  Every party involved in the payment will take one and use it to make sure everything is going according to plan.</p>
<p><em>Key point: even though all parties will have special boxes after the payment is prepared, none of the parties but the sender and the receiver will have the password, nor anything valuable that could be taken advantage of.  The is important because it means at this point, the payment can be backed-out-of, without any risk to any party of their assets.  When a payment is prepared, but before it actually goes ahead, the special boxes don't give the various parties any power over the assets involved.  The special boxes only give the various parties the <strong>ability to check a password is correct.</strong></em></p>
<h3 id="how-ilp-works-an-example-payment">How ILP Works: An Example Payment</h3>
<p>Let's imagine someone wants to send $10 US Dollars (USD) from their US bank account, to their friend's bank account in Japan.  In this case, the person in the US is the sender, and their friend in Japan is the receiver.  The problem is the friends Japanese bank won't accept USD, it only accepts Japanese Yen (JPY).  What to do?</p>
<p>This is where the connector comes in.  The connector has an account for USD at the same bank as the sender.  So from ILP's point of view, <em>the connector and the sender have accounts on the same ledger.</em></p>
<p>That same connector also happens to have an account for JPY at the same bank as the receiver.  So from ILP's point of view <em>the connector and the receiver have accounts on the same ledger.</em></p>
<p>If a connector has accounts on the same ledger as the sender and the receiver, an ILP payment involving the connector is now possible.</p>
<p>Let's say the connector offered the sender a price of ¥105 Japanese Yen for each $1 USD, and the sender was happy with that price.  That would mean the sender would send $10 USD, and the receiver would receive ¥1050 JPY (¥105 x $10 = ¥1050).</p>
<p>Here's what happens next:</p>
<p>1) The sender says to the ledger manager of the USD ledger:</p>
<ul>
<li>"I've decided to send $10 USD. Can you write in the ledger book that its not in my account anymore?"</li>
<li>"Then, can you write that this $10 is in the ledgers special 'holding' account?"</li>
<li>"Also, here's four special boxes.  Keep one, and give the other three to this connector."</li>
<li>"Finally, tell the connector if they give you a password that opens this box, you'll erase the entry in the holding account, and record instead that the $10 USD is in the connectors account!"</li>
</ul>
<p>2) The USD ledger manager erases $10 USD from the senders account, puts $10 USD in the holding account, tells the connector about everything, keeps a box, and gives the connector the other three boxes.  Now, its the connectors turn to do a similar thing on the JPY ledger.  The connector keeps a box, and then says to the JPY ledger manager:</p>
<ul>
<li>"I'm going to give someone on your ledger ¥1050 JPY.  Can you take ¥1050 from my account, and put it in the special 'holding' account?</li>
<li>"Then, can you take these two boxes, keep one, and give the other to the receiver?"</li>
<li>"Finally, wait for a password from the receiver - if the password opens your box, put the ¥1050 in the receivers account, tell the receiver you've done that, and let me know too!"</li>
</ul>
<p>3) The JPY ledger manager does all this, and gives the receiver the last box.  The receiver hears all about the payment and puts the password they previously arranged with the sender into the box.  The box opens!  So, the receiver knows this box came from the sender, and that this payment is a real payment the sender wants to make.  The receiver also knows that right now, some Japanese Yen are on hold for the receiver in the JPY ledger, waiting for this password.  The receiver wants the money, and trusts the JPY ledger manager.  At this point, what the receiver does determines whether the payment goes ahead or not.  This is called the payment "executing".  The receiver now causes the payment to execute, by giving the password to the JPY ledger manager.</p>
<p>4) The JPY ledger manager puts this password from the receiver into the box, and it opens! The JPY ledger manager changes the entries in the ledger, so that the holding account doesn't have the ¥1050 JPY, and the receiver's account has it instead.  The ledger manager then tells the connector what happened, and hands this password on to them.</p>
<p>5) The connector tries the password in the box, and of course - it opens.  The connector now knows this password will open the box the USD ledger manager has, and the ledger manager will put $10 USD into the connector's account on the USD ledger.  The connector trusts the USD ledger manager, and so hands the password on to them.</p>
<p>6) The USD ledger manager tries the password and when the box opens, puts the USD from the holding account into the connectors account.</p>
<p>So how are things now?  The sender has no USD, that's good - those USD were meant to be sent away.  The receiver has ¥1050 JPY.  That's good, that's just what the sender wanted.  The payment is complete!</p>
<p><em>Note: The connector now has $10 USD, and no JPY. But that connector could wait to be contacted by another sender, this time one from Japan, who wants to send JPY to the US.  The connector could then offer $1 USD for, say, ¥109 JPY each.  When that payment is done, the connector will have ¥1090 JPY on the JPY ledger, a little bit more than the ¥1050 the connector had before the first payment.  That's one way connectors can earn money by linking senders and receviers on the Interledger.</em></p>
<h3 id="the-magic-of-ilp-payments-are-an-illusion">The Magic of ILP: Payments Are An Illusion</h3>
<p>Something interesting about all of this, is that on the Interledger, it may well be correct to say that no assets are actually ever "sent" anywhere.  What actually happens is the various ledger managers involved all agree to write in their ledger books at about the same time.  What's written first is that the asset is <em>not</em> in the senders account, and then that it <em>is</em> in the sending ledgers holding account.  Then its written that the asset is <em>not</em> in the connectors account, but <em>is</em> in the receiving ledgers holding account.  When the password is received, the ledger managers do the same thing, but from the receiving ledgers holding account to the receivers account, and the sending ledgers holding account, to the connectors account.  Assets are appearing and disappearing <em>locally</em> on different ledgers, and because this is happening at about the same time, and because everyone involved is happy with what's happening, it creates the effect of an asset <em>seeming</em> to be sent from the sender's account to the receivers account, and maybe changing form along the way.  But really, that's an illusion.</p>
<p><em>Note: The reason for the "holding" part is that it protects the assets.  If anything goes wrong with the payment while the assets are on hold - for example, if the receiver rejects the payment - the assets can simply be taken from the holding accounts and put back into the accounts they came from.  In fact, in the case of the example given, if the receiver rejected the payment the assets would <strong>have</strong> to be put back.  This is because if the receiver rejected the payment, no password would have been given that could open the boxes, so none of the ledger managers would have done anything.</em></p>
<p><strong>Asset Exchange &amp; Connectors</strong></p>
<p>What's particularly useful about ILP payments, is that the <em>kind</em> of asset being sent doesn't need to be the same kind as the asset that is received.  The asset kind may be exchanged a few times during a payment.</p>
<p>In the example above, if there wasn't a convenient connector available for USD and JPY, the payment could have involved two or more connectors.  For example, the first connector could be happy to gain US Dollars on the senders ledger, and provide Mexican Peso's on another ledger.  A second connector may be happy to gain some Mexican Peso's on the first connectors ledger, and lose some Japanese Yen on the receivers ledger.  In this case the payment would have involved seven parties acting together.  One sender, two connectors, one receiver and three ledgers.</p>
<p>When looked at this way, each connector could also be seen as just another sender, and in truth, given the way ILP works under the hood - it's a little like that.</p>
<h3 id="further-reading-what-you-didnt-know-you-know">Further Reading &amp; What You Didn't Know You Know</h3>
<p>We've taken an elementary look at ILP and how it works.  In the course of this document, we've skipped over some complex terms commonly used to describe ILP, but we haven't skipped over basic functionality or the principles at work.</p>
<p>Hopefully, with what you know now, you'll be able to more readily comprehend other ILP documentation, based on a firm understanding of the basic principles.  What you may not realise is just how much you know already:</p>
<p><strong>What's Really In The Special Box?</strong></p>
<p>The "special box" was used as an analogy for a "cryptographic condition".  If you read about these elsewhere in the ILP documentation, you might find them associated with the terms "pre-image", "digest", "hash", "fulfillment" and if those weren't frightening enough, "SHA-256".</p>
<p>But you actually already know what most of these mean.  The "cryptographic condition" is the whole arrangement of the box, its hidden password and the checking a password matches the one inside.  The "pre-image" is just another word for the password.  The "digest", or "hash" is a kind of mushed-up version of that password.  Checking for a "valid pre-image of the hash", is the same as checking "the password matches the one in the box", and if it does match, "fulfilling the condition".  Finally, "SHA-256" is just a fancy name for a particular type of special box that may be used in ILP.  There are many types of these special boxes that all do almost the same thing, and they all have scary names.  Don't let it discourage you!</p>
    </div>
  </article>
        </main>

        <aside class="right-sidebar col-lg-3 order-lg-4 p-0" role="complementary">
  <div class="card" id="page-toc-wrapper">
    <div class="card-header">
      <h4>On This Page</h4>
    </div>
    <ul class="card-body">
      <li class="level-2"><a href="#interledger-protocol-explain-like-im-five-eli5">Interledger Protocol: Explain Like I'm Five (ELI5)</a></li>
<li class="level-3"><a href="#introduction">Introduction</a></li>
<li class="level-3"><a href="#ilp-basics-building-blocks">ILP Basics: Building Blocks</a></li>
<li class="level-3"><a href="#ilp-security-trusted-trustless">ILP Security: Trusted &amp; Trustless</a></li>
<li class="level-3"><a href="#how-ilp-works-an-example-payment">How ILP Works: An Example Payment</a></li>
<li class="level-3"><a href="#the-magic-of-ilp-payments-are-an-illusion">The Magic of ILP: Payments Are An Illusion</a></li>
<li class="level-3"><a href="#further-reading-what-you-didnt-know-you-know">Further Reading &amp; What You Didn't Know You Know</a></li>

    </ul>
  </div>
        </aside>

        </div><!--/.row (main layout)-->
      </div>


<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="col-sm-9 col-xs-12 float-left">
                    <img src="/assets/img/footerlogo.png">
                </div>
                <div class="col-sm-3 col-xs-12 float-right">
                    <a href="https://twitter.com/interledger"><img src="/assets/img/Twitter.png"></a>
                    <a href="https://communityinviter.com/apps/interledger/interledger-working-groups-slack"><img src="/assets/img/Slack.png"></a>
                </div>
            </div>
        </div>
    </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/custom.js"></script>
<script src="/assets/js/highlight.pack.js"></script>
<script src="/assets/js/home.js"></script>
<script type="text/javascript" src="/assets/js/svg-animation.js"></script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68500608-1', 'auto');
    ga('send', 'pageview');

</script>

</body>
</html>